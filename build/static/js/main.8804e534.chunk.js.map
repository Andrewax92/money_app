{"version":3,"sources":["pages/home/Home.module.css","component/Navbar.module.css","pages/login/Login.module.css","pages/signup/Signup.module.css","firebase/config.js","context/AuthContext.js","hooks/useAuthContext.js","component/Navbar.jsx","hooks/useLogout.js","hooks/useFireStore.js","pages/home/TransactionForm.jsx","pages/home/TransactionList.jsx","pages/home/Home.jsx","hooks/useCollection.js","pages/login/Login.jsx","hooks/useLogin.js","pages/signup/Signup.jsx","hooks/useSignup.js","App.js","index.js"],"names":["module","exports","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","getFirestore","auth","getAuth","AuthContext","createContext","authReducer","state","action","type","user","payload","authIsReady","AuthContextProvider","children","useReducer","dispatch","useEffect","unsub","onAuthStateChanged","console","log","Provider","value","useAuthContext","context","useContext","Error","Navbar","useState","isCancelled","setIsCancelled","error","setError","isPending","setIsPending","logout","signOut","message","useLogout","className","styles","navbar","title","to","displayName","onClick","initialState","document","success","reducer","useFireStore","collectionName","isCanceled","ref","collection","dispatchIfNotCancelled","addDocument","doc","createdAt","Timestamp","fromDate","Date","addDoc","addedDocument","deleteDocument","id","deleteDoc","deletedDocument","TransactionForm","uid","name","setName","amount","setAmount","handleSubmit","e","preventDefault","onSubmit","required","onChange","target","TransactionList","transactions","map","transaction","Home","_queryColection","_orderByElements","documents","setDocument","queryColection","useRef","current","orderByElements","query","where","orderBy","unsubscribe","onSnapshot","snapshot","results","docs","forEach","push","data","useCollection","container","content","sidebar","Login","email","setEmail","password","setPassword","login","signInWithEmailAndPassword","res","useLogin","disabled","Signup","setDisplayName","useNavigate","signup","createUserWithEmailAndPassword","response","updateProfile","currentUser","useSignup","App","path","element","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8804e534.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Home_container__3bftD\",\"content\":\"Home_content__18qU0\",\"sidebar\":\"Home_sidebar__21xz5\",\"transactions\":\"Home_transactions__3_tqr\",\"name\":\"Home_name__4a_Tj\",\"amount\":\"Home_amount__1MW_9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__27XP9\",\"title\":\"Navbar_title__1us0q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login-form\":\"Login_login-form__1NBYb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"signup-form\":\"Signup_signup-form__3B7tC\"};","// Import the functions you need from the SDKs you need\nimport { initializeApp } from \"firebase/app\";\nimport { getFirestore } from 'firebase/firestore'\nimport { getAuth } from 'firebase/auth'\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n    apiKey: \"AIzaSyBzZ1OnFBf9RteYI8ha-TnxhlInbE9w1h4\",\n    authDomain: \"money-tracker-1ed44.firebaseapp.com\",\n    projectId: \"money-tracker-1ed44\",\n    storageBucket: \"money-tracker-1ed44.appspot.com\",\n    messagingSenderId: \"315155896293\",\n    appId: \"1:315155896293:web:e1e9cc46fe3017972a010c\"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\n\n// Data base\nconst db = getFirestore(app)\n\n// auth \n\nconst auth = getAuth(app)\n\nexport { db, auth }\n\n\n\n","import { onAuthStateChanged } from \"firebase/auth\"\nimport { createContext, useEffect, useReducer } from \"react\"\nimport { auth } from \"../firebase/config\"\n\n\n\n\nexport const AuthContext = createContext()\n\nconst authReducer = (state, action) => {\n\n    switch (action.type) {\n\n        case 'LOGIN':\n            return { ...state, user: action.payload }\n        case 'LOGOUT':\n            return { ...state, user: null }\n        case 'AUTH_IS_READY':\n            return { ...state, user: action.payload, authIsReady: true }\n        default:\n            return state\n    }\n\n}\n\n\n\nexport const AuthContextProvider = ({ children }) => {\n\n    const [state, dispatch] = useReducer(authReducer, {\n        user: null,\n        authIsReady: false\n    })\n\n    useEffect(() => {\n\n        const unsub = onAuthStateChanged(auth, (user) => {\n            dispatch({ type: 'AUTH_IS_READY', payload: user })\n\n            unsub()\n        })\n\n    }, [])\n    console.log(\"AuthContext\", state);\n\n    return (\n\n        <AuthContext.Provider value={{ ...state, dispatch }}>\n            {children}\n        </AuthContext.Provider>\n    )\n}","import { AuthContext } from '../context/AuthContext'\nimport { useContext } from 'react'\n\nexport const useAuthContext = () => {\n\n    const context = useContext(AuthContext)\n\n    if (!context) {\n        throw new Error(\"useAuthContext must be inside an AuthContextProvider\")\n    }\n\n    return context\n}","import { Link } from 'react-router-dom'\nimport { useLogout } from '../hooks/useLogout'\nimport styles from './Navbar.module.css'\nimport { useAuthContext } from '../hooks/useAuthContext'\n\nconst Navbar = () => {\n  \n  const{user} = useAuthContext()\n  const{logout} = useLogout()\n  console.log(\"Navbar\" , user);\n  return (\n     <nav className={styles.navbar}>\n         <ul>\n             <li className={styles.title}>moneyAPP</li>\n\n          {!user && (\n            <>\n            <li> <Link to=\"/login\">Login</Link></li>\n            <li> <Link to=\"/signup\">Signup</Link></li>\n           </>  \n          )} \n\n          {user &&(\n          <>\n             <li>hello,{user.displayName}</li>\n             <li>\n             <button className='btn' onClick={logout}>Logout</button>\n             </li>\n           </>\n          )}\n          \n      \n         </ul>\n     </nav>\n  )\n}\nexport default Navbar","import { useEffect, useState } from \"react\";\nimport { signOut } from \"firebase/auth\";\nimport { auth } from \"../firebase/config\";\nimport { useAuthContext } from \"./useAuthContext\";\n\nexport const useLogout = () => {\n\n    const [isCancelled, setIsCancelled] = useState(false)\n    const [error, setError] = useState(null)\n    const [isPending, setIsPending] = useState(false)\n    const { dispatch } = useAuthContext()\n\n    const logout = async () => {\n        setError(null)\n        setIsPending(true)\n\n        try {\n\n            await signOut(auth)\n\n            // dispatch logout action\n            dispatch({ type: \"LOGOUT\" })\n\n            // update state \n            if (!isCancelled) {\n                setIsPending(false)\n                setError(null)\n            }\n\n\n\n\n        } catch (error) {\n            if (!isCancelled) {\n                console.log(error);\n                setError(error.message)\n                setIsPending(false)\n            }\n\n        }\n    }\n\n    useEffect(() => {\n\n        return () => setIsCancelled(true)\n\n\n    }, [])\n    return { error, logout, isPending }\n}","import { collection, addDoc, Timestamp, deleteDoc, doc } from \"firebase/firestore\";\nimport { useReducer, useEffect, useState } from \"react\";\nimport { db } from '../firebase/config'\n\nlet initialState = {\n    document: null,\n    isPending: false,\n    error: null,\n    success: null\n}\n\nconst reducer = (state, action) => {\n\n    switch (action.type) {\n        case 'IS_PENDING':\n            return { isPending: true, document: null, success: false, error: null }\n\n        case 'ADDED_DOCUMENT':\n            return { isPending: false, document: action.payload, success: true, error: null }\n        case 'ERROR':\n            return { isPending: false, document: null, success: false, error: action.payload }\n        case 'DELETED_DOCUMENT':\n            return { isPending: false, document: action.payload, success: false, error: null }\n        default:\n            return state\n    }\n}\nexport const useFireStore = (collectionName) => {\n\n    const [state, dispatch] = useReducer(reducer, initialState)\n    const [isCanceled, setIsCancelled] = useState(false)\n\n    // collection ref\n\n    const ref = collection(db, collectionName)\n\n    // only dispatch if not cancelled\n\n    const dispatchIfNotCancelled = (action) => {\n        if (!isCanceled) {\n            dispatch(action)\n        }\n    }\n\n    // add a document \n\n    const addDocument = async (doc) => {\n\n        dispatch({ type: 'IS_PENDING' })\n\n        try {\n            const createdAt = Timestamp.fromDate(new Date())\n            const addedDocument = await addDoc(ref, { ...doc, createdAt })\n\n            console.log(\"The added Document is\", addedDocument);\n\n            dispatchIfNotCancelled({ type: 'ADDED_DOCUMENT', payload: addedDocument })\n\n        } catch (error) {\n\n            dispatchIfNotCancelled({ type: 'ERROR', payload: error })\n\n        }\n    }\n\n    // delete a document\n\n    const deleteDocument = async (id) => {\n\n        dispatch({ type: 'IS_PENDING' })\n\n        try {\n\n            const deletedDocument = await deleteDoc(doc(db, 'transactions', id))\n\n            dispatchIfNotCancelled({ type: 'DELETED_DOCUMENT', payload: deletedDocument })\n\n        } catch (error) {\n\n            dispatchIfNotCancelled({ type: 'ERROR', payload: error.message })\n\n        }\n\n    }\n\n    useEffect(() => {\n\n        return () => setIsCancelled(true)\n    }, [])\n\n    return { addDocument, deleteDocument, state }\n}","import { useEffect, useState } from \"react\"\nimport { useFireStore } from \"../../hooks/useFireStore\"\nconst TransactionForm = ({uid}) => {\n\n    const[name,setName] = useState('')\n    const[amount,setAmount] = useState('')\n\n    const {addDocument,state} = useFireStore('transactions')\n\n   const handleSubmit = async(e) => {\n         e.preventDefault()\n   console.log(uid,name,amount);\n     await addDocument({\n        uid,\n        name,\n        amount\n    })\n    }\n\n useEffect(() => {\n     if(state.success){\n         setName('')\n         setAmount('')\n     }\n },[state.success])\n\n  return (\n     <>\n     <h3>Add a Transaction</h3>\n\n     <form onSubmit={handleSubmit} >\n         <label>\n             <span>Transaction name : </span>\n             <input type=\"text\" \n             required\n             onChange = {(e) => setName(e.target.value)}\n             value={name}/>\n         </label>\n         <label>\n             <span>Amount ($): </span>\n             <input type=\"number\" \n             required\n             onChange = {(e) => setAmount(e.target.value)}\n             value={amount}/>\n         </label>\n         <button >Add transaction</button>\n     </form>\n\n     </>\n  )\n}\n\nexport default TransactionForm\n","\nimport styles from './Home.module.css'\n\nimport { useFireStore } from '../../hooks/useFireStore'\n\nexport const TransactionList = ({transactions}) => {\n\n  const {deleteDocument,state} = useFireStore('transactions')\n  console.log(state);\n  return (\n      <ul className={styles.transactions}>\n       {transactions.map((transaction) => (\n\n           <li key={transaction.id}>\n                <p className={styles.name}>{transaction.name}</p>\n                <p className={styles.amount}>${transaction.amount}</p>\n                <button onClick ={() => deleteDocument(transaction.id) }>x</button>\n           </li>\n       ))}\n\n      </ul>\n  )\n}","import styles from './Home.module.css'\nimport TransactionForm from './TransactionForm'\nimport {useAuthContext} from '../../hooks/useAuthContext'\nimport { useCollection } from '../../hooks/useCollection'\nimport { TransactionList } from './TransactionList'\n\n\nconst Home = () => {\n\n  const {user} = useAuthContext()\n  \n  \n\n  const{documents,error} = useCollection(\n    'transactions',\n     [\"uid\", \"==\", user.uid],\n    [\"createdAt\", \"desc\"]\n  )\n  console.log( \"The user is\" ,user.uid);\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.content}>\n         {error && <p>{error}</p>}\n         {documents && <TransactionList transactions={documents}/>}\n      </div>\n      <div className={styles.sidebar}>\n       <TransactionForm  uid={user.uid}/>\n      </div>\n\n    \n    </div>\n  )\n}\n\nexport default Home\n","import { collection, onSnapshot, query, where, orderBy } from \"firebase/firestore\"\nimport { useEffect, useState, useRef } from \"react\"\nimport { db } from '../firebase/config'\n\n\nexport const useCollection = (collectionName, _queryColection, _orderByElements) => {\n\n    const [documents, setDocument] = useState(null)\n    const [error, setError] = useState(null)\n    console.log(documents);\n    // If we don't use a ref --> infinite loop in useEffect\n    // _queryCollection is an array and is \"different \" on every function call\n\n    const queryColection = useRef(_queryColection).current\n    const orderByElements = useRef(_orderByElements).current\n\n\n    useEffect(() => {\n\n        let ref = collection(db, collectionName)\n\n        if (queryColection) {\n            ref = query(collection(db, collectionName), where(...queryColection))\n        }\n        if (orderByElements) {\n            ref = query(collection(db, collectionName), where(...queryColection), orderBy(...orderByElements))\n        }\n\n\n\n        // const q = query(collection(db, \"cities\"), where(\"state\", \"==\", \"CA\"));\n\n        const unsubscribe = onSnapshot(ref, (snapshot) => {\n\n            let results = []\n            snapshot.docs.forEach((doc) => {\n\n                results.push({ ...doc.data(), id: doc.id })\n            })\n            //    update state \n            setDocument(results)\n            setError(null)\n        }, (error) => {\n            console.log(error);\n            setError(\"Could not fetchData\")\n        })\n\n        // unsubscribe on mount\n\n        return () => unsubscribe()\n\n    }, [collectionName, queryColection])\n\n    return { documents, error }\n}","import { useState } from 'react'\nimport styles from './Login.module.css'\nimport { useLogin } from '../../hooks/useLogin'\n\nconst Login = () => {\n\n     const[email,setEmail]= useState('')\n     const[password,setPassword] = useState('')\n    \n     const {login,error,isPending} = useLogin()\n     const handleSubmit = (e) => {\n       e.preventDefault()\n\n        login(email,password)\n     }\n\n  return (\n    <form onSubmit={handleSubmit} className={styles['login-form']}>\n\n      <h2>Login</h2>\n\n      <label >\n        <span>email:</span>\n        <input type=\"text\" \n         onChange = {(e) => setEmail(e.target.value)} \n         value={email}/>\n      </label>\n\n      <label >\n        <span>password:</span>\n        <input type=\"current-password\" \n         onChange={(e) => setPassword(e.target.value)} \n         value={password}/>\n      </label>\n\n      {!isPending && <button className=\"btn\">Login</button>} \n      {isPending && <button className=\"btn\" disabled> Loading...</button>}\n      {error && <p>{error}</p>}\n    \n\n\n    </form>\n  )\n}\nexport default Login","\nimport { useEffect, useState } from \"react\";\nimport { signInWithEmailAndPassword } from \"firebase/auth\";\nimport { auth } from \"../firebase/config\";\nimport { useAuthContext } from \"./useAuthContext\";\n\nexport const useLogin = () => {\n\n    const [isCancelled, setIsCancelled] = useState(false)\n    const [error, setError] = useState(null)\n    const [isPending, setIsPending] = useState(false)\n    const { dispatch } = useAuthContext()\n\n    const login = async (email, password) => {\n        setError(null)\n        setIsPending(true)\n\n        try {\n\n            const res = await signInWithEmailAndPassword(auth, email, password)\n\n\n\n            // dispatch logout action\n            dispatch({ type: \"LOGIN\", payload: res.user })\n\n            // update state \n            if (!isCancelled) {\n                setIsPending(false)\n                setError(null)\n            }\n\n\n\n\n        } catch (error) {\n            if (!isCancelled) {\n                console.log(error);\n                setError(error.message)\n                setIsPending(false)\n            }\n\n        }\n    }\n\n    useEffect(() => {\n\n        return () => setIsCancelled(true)\n\n\n    }, [])\n    return { error, login, isPending }\n}","import { useState } from 'react'\nimport styles from './Signup.module.css'\nimport { useSignup } from '../../hooks/useSignup'\nimport { useNavigate} from 'react-router'\nconst Signup = () => {\n\n    const[email,setEmail]= useState('')\n    const[password,setPassword] = useState('')\n    const[displayName,setDisplayName] = useState('')\n    const navigate = useNavigate()\n    \n    const {signup,error,isPending} = useSignup()\n\n    const handleSubmit = async(e) => {\n      e.preventDefault()\n       \n      await signup(email,password,displayName);\n      \n      // if(!error){\n      //   navigate('/')\n      // }\n    }\n return (\n   <form onSubmit={handleSubmit} className={styles['signup-form']}>\n\n     <h2>Login</h2>\n\n     <label >\n       <span>display name:</span>\n       <input type=\"text\" \n        onChange = {(e) => setDisplayName(e.target.value)} \n        value={displayName}/>\n     </label>\n\n\n     <label >\n       <span>email:</span>\n       <input type=\"text\" \n        onChange = {(e) => setEmail(e.target.value)} \n        value={email}/>\n     </label>\n\n     <label >\n       <span>password:</span>\n       <input type=\"current-password\" \n        onChange={(e) => setPassword(e.target.value)} \n        value={password}/>\n     </label>\n\n    { !isPending && <button className=\"btn\">Signup</button> } \n     {isPending && <button className='btn' disabled>Loading</button>} \n     {error && <p>{error}</p>}\n\n   </form>\n )\n}\nexport default Signup","import { useState, useEffect } from \"react\"\nimport { auth } from \"../firebase/config\";\nimport { createUserWithEmailAndPassword, updateProfile } from \"firebase/auth\";\nimport { useAuthContext } from \"./useAuthContext\";\n\n\n\nexport const useSignup = () => {\n\n    const [isCancelled, setIsCancelled] = useState(false)\n    const [error, setError] = useState(null)\n    const [isPending, setIsPending] = useState(false)\n\n    const { dispatch } = useAuthContext()\n\n    const signup = async (email, password, displayName) => {\n\n        setError(null)\n        setIsPending(true)\n\n        try {\n\n            const response = await createUserWithEmailAndPassword(auth, email, password)\n\n            console.log(\"Response is\", response);\n            // dispatch login action\n\n            dispatch({ type: 'LOGIN', payload: response.user })\n\n            if (!response) {\n\n                throw new Error(\"Could not complete signUp\")\n            }\n            // add display name\n            await updateProfile(auth.currentUser, { displayName })\n\n            if (!isCancelled) {\n                setIsPending(false)\n                setError(null)\n            }\n\n        } catch (error) {\n\n            if (!isCancelled) {\n                console.log(error);\n                setIsPending(false)\n                setError(null)\n            }\n\n        }\n\n    }\n    useEffect(() => {\n\n        return () => setIsCancelled(true)\n\n\n    }, [])\n    return { error, isPending, signup }\n}","\nimport { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';\nimport Navbar from './component/Navbar';\nimport { useAuthContext } from './hooks/useAuthContext';\n// import './App.css'\nimport Home from './pages/home/Home';\nimport Login from './pages/login/Login';\nimport Signup from './pages/signup/Signup';\n\n\n\n\nfunction App() {\n  const { authIsReady, user } = useAuthContext()\n  return (\n    <div className=\"App\">\n      {authIsReady && <BrowserRouter>\n        <Navbar />\n        <Routes>\n          <Route path='/' element={user ? <Home /> : <Navigate to=\"/login\" />} />\n          <Route path='/login' element={user ? <Navigate to=\"/\" /> : <Login />} />\n          <Route path='/signup' element={user ? <Navigate to=\"/\" /> : <Signup />} />\n        </Routes>\n\n      </BrowserRouter>\n      }\n    </div>\n  );\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AuthContextProvider } from './context/AuthContext'\n\nReactDOM.render(\n\n  <React.StrictMode>\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n\n\n);\n"],"sourceRoot":""}